<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>WORKBASE</title>
    
    <link rel="stylesheet" href="./css/styles.css" />
    <link rel="stylesheet" href="./css/tooltip.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      as="style"
      crossorigin
      href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css"
    />
  </head>

  <body>
    <div class="main">
      <div id="sidebar-component" class="sidebar"></div>

      <div class="content">
        <div class="drag-control">
          <div class="window-control">
            <button class="control-btn" id="min-btn">
              <img src="../../assets/titlebar/min-icon.svg" alt="최소화" />
            </button>
            <button class="control-btn" id="max-btn">
              <img
                id="max-icon"
                src="../../assets/titlebar/max-icon-1.svg"
                alt="최대화"
              />
            </button>
            <button class="control-btn" id="close-btn">
              <img src="../../assets/titlebar/close-icon.svg" alt="닫기" />
            </button>
          </div>
        </div>
        <div class="todo">
          <div class="header">
            <span class="date">2025년 10월 18일 토요일</span>
            <span class="title">전체 보관함</span>
          </div>
        </div>
      </div>
    </div>

    <div class="popup" id="group-add-popup">
      <div class="top">
        <div class="title">그룹 추가</div>
        <input placeholder="그룹 이름을 입력해 주세요" />
      </div>
      <div class="bottom">
        <button class="cancel-button popup-close">취소</button>
        <button class="add-button" id="confirm-group-add">추가</button>
      </div>
    </div>
    <div class="popup" id="project-add-popup">
      <div class="top">
        <div class="title">프로젝트 추가</div>
        <input placeholder="프로젝트 이름을 입력해 주세요" />
      </div>
      <div class="bottom">
        <button class="cancel-button popup-close">취소</button>
        <button class="add-button" id="confirm-project-add">추가</button>
      </div>
    </div>
    <div class="popup-overlay"></div>

<div id="project-context-menu" class="context-menu">
      <button id="rename-project-btn">
        <svg><use href="../../assets/icons/icons.svg#icon-edit"></use></svg>
        <span>이름 바꾸기</span>
      </button>
      <button id="delete-project-btn" class="delete">
        <svg><use href="../../assets/icons/icons.svg#icon-delete"></use></svg>
        <span>삭제하기</span>
      </button>
    </div>

    <script src="./js/sidebar.js"></script>
    <script src="./js/tooltip.js"></script>
    <script src="./js/titlebar.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        fetch("./html/component/sidebar.html")
          .then((response) => response.text())
          .then((html) => {
            const sidebar = document.getElementById("sidebar-component");
            if (sidebar) {
              sidebar.innerHTML = html;

              initSidebar();
              initTooltip();
            }
          })
          .catch((error) => console.error("사이드바 로딩 오류:", error));
      });
    </script>
  </body>
</html>